{"version":3,"sources":["components/Contact.js","components/forms/PersonForm.js","components/forms/FilterForm.js","services/persons.js","App.js","index.js"],"names":["Contact","name","number","deletePerson","onClick","PersonForm","props","onSubmit","value","nameValue","onChange","handleNameChange","numberValue","handleNumberChange","type","FilterForm","filterValue","handleFilterChange","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterValue","alertMessage","setAlertMessage","errorMessage","setErrorMessage","useEffect","filtered","filter","str","toLowerCase","concat","indexOf","event","target","preventDefault","console","log","personObject","key","w","length","personToUpdate","find","p","window","confirm","returnedPerson","map","person","setTimeout","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5601b445.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Contact = ({ name, number, deletePerson}) => {\r\n  return (\r\n    <div>\r\n      {name} {number}\r\n      <button onClick={deletePerson}>delete</button>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default Contact","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n      <div>\r\n        <h1>add a new</h1>\r\n        <form onSubmit={props.onSubmit}>\r\n          <div>\r\n            name: <input value={props.nameValue} onChange={props.handleNameChange}/>\r\n          </div>\r\n          <div>\r\n            number: <input value={props.numberValue} onChange={props.handleNumberChange} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n  const FilterForm = (props) => {\r\n    return (\r\n      <div>\r\n        <form>\r\n          <div>\r\n            filter shown with: <input value={props.filterValue} onChange={props.handleFilterChange}/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default FilterForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const personService = { getAll, create, update, remove }\r\n  export default personService","import React, { useState, useEffect } from 'react'\nimport Contact from './components/Contact'\nimport PersonForm from './components/forms/PersonForm'\nimport FilterForm from './components/forms/FilterForm'\nimport axios from 'axios'\nimport personService from './services/persons'\n\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterValue, setFilterValue] = useState('')\n  const [alertMessage, setAlertMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    axios\n      .get('/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterValue(event.target.value)\n  }\n\n  \n  const deletePerson = (id) => {\n\n    if (window.confirm(`Delete ${persons.find(p => p.id === id).name} ?`)) {\n      const personObject = persons.find(p => p.id === id)\n      personService\n          .remove(id)\n          .then(response => {\n            setPersons(persons.filter(p => p.id !== id))\n          })\n      setAlertMessage(\n          `${personObject.name} has been removed from the phonebook`\n        )\n        setTimeout(() => {\n          setAlertMessage(null)\n        }, 5000)\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked')\n    const personObject = {\n      name: newName,\n      key: newName,\n      number: newNumber\n    }\n\n    // A person with that name already exists -> update the number\n    if (persons.filter(w => w.name === personObject.name).length > 0) {\n      const personToUpdate = persons.find(p => p.name === personObject.name)\n      if (window.confirm(`${personObject.name} is already added to phonebook, replace old number with a new one?`)) {\n        personService\n          .update(personToUpdate.id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPerson))\n              setNewName('')\n              setNewNumber('')\n              setAlertMessage(\n                `The number of ${personObject.name} has been changed succesfully`\n              )\n              setTimeout(() => {\n                setAlertMessage(null)\n              }, 5000)    \n            })\n            .catch(error => {\n              setErrorMessage(`Information of ${personToUpdate.name} has already been removed from server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })\n      }\n        \n    }\n    // A person is added succesfully\n    else {\n      personService\n        .create(personObject)\n          .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setAlertMessage(\n            `${personObject.name} has been added to the phonebook`\n          )\n          setTimeout(() => {\n            setAlertMessage(null)\n          }, 5000)\n          })\n\n          .catch(error => {\n            console.log(error.response.data.error)\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n    }\n  }\n\n  const filtered = persons.filter((str) => {\n    return str.name.toLowerCase().concat(str.number).indexOf(filterValue.toLowerCase()) >= 0;\n  })\n\n  \n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={alertMessage} type=\"alert\" />\n      <Notification message={errorMessage} type=\"error\" />\n\n      <FilterForm filterValue={filterValue} handleFilterChange={handleFilterChange} />\n\n      <PersonForm \n        onSubmit={addPerson}\n        nameValue={newName}\n        numberValue={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n\n      <div>\n        {filtered.map(person =>\n          <Contact\n            name={person.name}\n            number={person.number}\n            key={person.id}\n            deletePerson={() => deletePerson(person.id)}\n          />\n        )}\n      </div>\n\n    </div>\n  )\n  \n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}